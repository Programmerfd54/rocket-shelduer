# Идеи для проекта RC Scheduler (расширенный список)

Только идеи, без реализации. Часть уже частично реализована или описана в других файлах (`PROJECT_IDEAS.md`, `IDEAS_GLOBAL.md`, `ADMIN_IDEAS.md`, `WORKSPACE_DETAIL_PAGE_IDEAS.md`). Здесь — сводка и дополнения.

---

## Вход, регистрация и аккаунт

- **«Забыли пароль»** — восстановление пароля по email (нужен почтовый сервер или внешний сервис).
- **Запоминание email** — сохранять последний введённый email в `localStorage`, подставлять при следующем визите.
- **Регистрация только по инвайту** — опция: регистрация возможна только по ссылке-приглашению.
- **Валидация пароля при регистрации** — требования к длине/символам и индикатор силы в реальном времени.
- **Текущий пароль при смене** — перед сменой пароля в настройках запрашивать текущий пароль.
- **Двухфакторная аутентификация (2FA)** — опционально для приложения (не только для Rocket.Chat).
- **Подтверждение email** — опционально: письмо со ссылкой для подтверждения при регистрации.
- **Ограничение попыток входа** — временная блокировка после N неудачных попыток (опционально).

---

## Онбординг и первый запуск

- **Приветственный тур** — короткий тур по дашборду («Добавьте пространство», «Перейдите в календарь») с возможностью пропустить.
- **Чек-лист первого входа** — «Добавлено пространство», «Запланировано первое сообщение» с прогрессом или галочками.
- **Пустая главная** — если нет пространств, крупный CTA «Добавить первое пространство» с кратким объяснением.
- **Подсказки при первом заходе в раздел** — контекстные подсказки при первом открытии календаря, списка сообщений и т.д.
- **Видео/гайд для новых пользователей** — ссылка на короткое видео или статью «Как начать».

---

## Дашборд (главная)

- **Быстрые действия** — кнопки «Добавить пространство», «Календарь», «Последние сообщения» без лишних переходов.
- **Настраиваемые виджеты** — возможность свернуть/развернуть блоки (статистика, последние сообщения, пространства).
- **Фильтр «Мои / Все»** — явный переключатель «только мои сообщения» для дашборда.
- **Фильтр по периоду** — «За сегодня / неделю / месяц» для цифр и списков.
- **Кнопка «Обновить»** — обновление данных без перезагрузки страницы.
- **Ссылки из карточек** — клик по «последнее сообщение» или по пространству ведёт на страницу пространства или календарь с фильтром.
- **Экспорт дашборда** — кнопка «Скачать отчёт»: сводка по пространствам и сообщениям за период (PDF/CSV).
- **Предупреждения** — блок «Истекает доступ» (VOL), «Пространства с ошибкой подключения», «Сообщения с ошибкой отправки».

---

## Пространства (список и карточка)

- **Группировка по названию/тегу** — по первому слову или тегу (например, «Февральский», «Мартовский»).
- **Быстрый переход в календарь** — с карточки передавать `workspaceId` в календарь (частично есть).
- **Цветовая полоска пространства** — левая полоска цвета пространства на карточке везде (список, календарь, последние сообщения).
- **Сводка по пространствам в админке** — количество активных/архивных, при желании — с ошибками подключения (частично есть).
- **Экспорт списка каналов** — для SUP: кнопка «Скачать CSV» во вкладке «Каналы» на странице пространства.
- **Экспорт списка сообщений** — для SUP: кнопка «Скачать» (канал, дата, текст, статус) во вкладке «Сообщения».
- **Сортировка каналов** — по имени, по количеству сообщений, публичные сначала.
- **Группировка каналов** — публичные и приватные отдельными блоками или с подзаголовками.
- **Компактный вид каналов** — переключатель «Сетка / Список».
- **Клик по карточке статистики** — при клике на «Ожидает» открывать вкладку «Сообщения» с фильтром по статусу.
- **Поиск по тексту сообщений** — во вкладке «Сообщения» поле поиска по тексту.
- **Фильтр по статусу сообщений** — «Все / Ожидает / Отправлено / Ошибка» во вкладке «Сообщения».
- **Повторная отправка с ошибкой** — кнопка «Повторить отправку» для сообщений со статусом «Ошибка» (если есть API).

---

## Календарь

- **Напоминания перед отправкой** — за N минут тост или браузерное уведомление: «Через 5 мин отправится сообщение в #general».
- **Дублирование события** — «Создать копию» сообщения на другую дату/канал.
- **Фильтр по тексту** — поиск по тексту сообщения в календаре.
- **Сохранение фильтров в URL** — при возврате восстанавливать выбранные фильтры (пространство, роль, статус, дата).
- **Вид «день»** — кроме месяца и недели, вид по одному дню с почасовой сеткой.
- **Печать** — уже есть; при желании улучшить верстку для печати.
- **Перетаскивание события** — сдвиг запланированного сообщения на другую дату/время перетаскиванием (если API поддерживает).

---

## Сообщения и планирование

- **Единый список сообщений** — страница `/dashboard/messages` с фильтром по пространству, каналу, статусу, дате по всем пространствам.
- **Быстрый переход** — клик по сообщению открывает страницу пространства и при необходимости вкладку «Сообщения» или диалог редактирования.
- **Черновики** — автосохранение черновика в диалоге сообщения (частично есть); при случайном закрытии — восстановление.
- **Валидация времени** — проверка «время в прошлом» и других ограничений в реальном времени.
- **Отправка «от имени»** — для SUP/ADM выбор отправителя при планировании (если включено в настройках).
- **Шаблоны** — группировка по дню/каналу, поиск, экспорт (частично есть).
- **Повторяющиеся сообщения** — опционально: «каждый понедельник», «каждый день в 9:00» и т.п. (требует расширения модели и крона).

---

## История (активность)

- **Фильтр по типу события** — вход, создание пространства, сообщение отправлено и т.д.
- **Фильтр по пользователю** — для SUP; для себя — только свои события.
- **Фильтр по периоду** — дата от — до.
- **Экспорт** — кнопка «Скачать лог» (CSV/JSON) за выбранный период.
- **Ссылки в списке** — «Перейти к пространству», «Перейти к сообщению» из каждой строки.

---

## Настройки пользователя

- **Тема** — светлая/тёмная/системная (есть); убедиться, что везде применяется.
- **Язык** — переключатель RU/EN при появлении локализации.
- **Уведомления** — включить/выключить тосты или браузерные уведомления о запланированных отправках и об ошибках.
- **Активные сессии** — список устройств/сессий, «Выйти на всех кроме текущего», длительность сессии (частично есть).
- **Высокий контраст** — опция для доступности (усилить границы, убрать полупрозрачности).
- **Уменьшенная анимация** — учитывать `prefers-reduced-motion`.

---

## Поиск и навигация

- **Глобальный поиск (Ctrl+K)** — командная палитра: быстрый переход по разделам, поиск пространств/сообщений по названию, недавние страницы.
- **Недавние страницы** — в сайдбаре или в поиске показывать 3–5 последних посещённых разделов/пространств.
- **Закладки/избранные разделы** — закрепить в сайдбаре 1–2 пространства или «Мои шаблоны».
- **Сохранение фильтров** — календарь, сообщения, история: сохранять фильтры в URL или `localStorage`.
- **Хлебные крошки** — на всех вложенных страницах с кликабельными ссылками (частично есть).
- **Кнопка «Назад»** — где уместно (страница пространства, карточка пользователя).

---

## Админ-панель (SUP, ADMIN, ADM)

- **Экспорт списка пользователей** — CSV/Excel с учётом фильтров (email, имя, роль, статус, даты).
- **Массовые действия** — кроме массового продления VOL: массовая разблокировка, массовая смена роли, продление на выбранную дату.
- **Сохранение фильтров в URL** — `?role=VOL&status=active&search=...`.
- **Быстрые фильтры** — чипы: «Все», «VOL», «Истекают за 7 дней», «Заблокированные», «Админы».
- **Сортировка по столбцам** — клик по заголовку таблицы для смены сортировки и направления.
- **Журнал аудита** — фильтры по типу действия, по пользователю, по периоду; экспорт CSV/JSON; детали по клику; ссылки «К пользователю», «К пространству».
- **Карточка пользователя** — история смены ролей и блокировок; ссылки из активности на пространство/сообщение; быстрое продление без полного диалога; теги у заметок; «Создать новую ссылку-приглашение».
- **Настройки системы** — аудит изменений настроек; описание каждой опции; группировка блоков; предпросмотр прав для ADM.
- **Сводка за период** — новые пользователи, блокировки, продления VOL, пространства, сообщения за день/неделю/месяц.
- **Графики** — регистрации по дням, активность по дням, сообщения по пространствам.
- **Экспорт отчёта** — «Скачать отчёт за месяц» (PDF/CSV с метриками).
- **Подсказка для ADM** — на главной админки: «Вы вошли как ADM. Доступны только просмотр пользователей и управление волонтёрами.»

---

## Безопасность и доступ

- **Единый обработчик ошибок API** — при 401 редирект на логин, при 403 — «Нет доступа», при 5xx — «Ошибка сервера, попробуйте позже».
- **Подтверждение опасных действий** — везде AlertDialog с итогом («Пользователь X будет заблокирован…» и т.п.).
- **Ограничение повторного использования одних и тех же кредов** — запрет подключения пространства с логином, уже используемым другим пользователем (частично есть).
- **Напоминалка при добавлении пространства** — подключаться своими кредами; тестовые пользователи только с разрешения ADMIN (частично есть).
- **Контакт администратора** — на странице «Заблокирован» ссылка «Написать администратору» (mailto или инструкция).

---

## UI/UX общее

- **Единый стиль карточек** — одинаковые border, radius, тень и hover на всех страницах.
- **Акцентный цвет** — один цвет для главных действий («Запланировать», «Открыть»), нейтральные для вторичных.
- **Типографическая шкала** — зафиксированные размеры заголовков (h1/h2/h3) и подписей.
- **Иконки** — один стиль (outline или filled), один размер по контексту; тултипы на всех иконочных кнопках без подписи.
- **Пустые состояния** — везде иконка + короткий текст + призыв к действию (частично есть).
- **Скелетоны** — единый компонент скелетона для списков/таблиц на всех страницах.
- **Состояние ошибки загрузки** — блок на странице с кнопкой «Повторить» и текстом «Не удалось загрузить данные».
- **Тосты с действием** — при ошибках кнопки «Повторить», «Открыть детали», «В админку» и т.д.
- **Оптимистичные действия** — при создании/редактировании сразу показывать результат в списке, при ошибке откатывать.
- **Клавиатура** — Enter отправляет форму, Escape закрывает модалки; при желании Ctrl+K для глобального поиска.
- **Копирование в буфер** — кнопка «Копировать» везде, где URL или длинный текст; тост «Скопировано».
- **Открытие в новой вкладке** — для «Открыть в Rocket.Chat», «Календарь» с фильтром — `target="_blank"` и `rel="noopener"`.

---

## Адаптив и мобильная версия

- **Мобильный сайдбар** — drawer/sheet на маленьких экранах (частично есть).
- **Нижняя навигация** — уже есть; убедиться, что основные разделы в один тап.
- **Таблицы на узких экранах** — переключаться в карточки или горизонтальный скролл с фиксированной первой колонкой.
- **Календарь на телефоне** — по умолчанию неделя или день; месяц — свайпом; фильтры в выезжающей панели.
- **Крупные зоны нажатия** — кнопки и ссылки не менее 44px по высоте на мобильных.
- **Формы** — поля в колонку, кнопки на всю ширину на мобильных.

---

## Производительность и техника

- **Виртуализация длинных списков** — каналы, сообщения, пользователи в админке при большом объёме данных (например, `@tanstack/react-virtual`).
- **Ленивая загрузка вкладок** — тяжёлые вкладки (импорт эмодзи, добавление пользователей) рендерить только при первом открытии.
- **Предзагрузка** — при наведении на ссылку «Пространство» или «Календарь» при необходимости подгружать данные (`prefetch`).
- **Кэширование** — кэш списков пространств и каналов с инвалидацией после мутаций.
- **Пагинация или «Показать ещё»** — при большом количестве элементов подгружать порциями.

---

## Локализация и доступность

- **Переключатель языка RU/EN** — при появлении локализации строк интерфейса.
- **aria-labels** — для кнопок-иконок и навигации (для скринридеров).
- **focus-visible** — единообразное кольцо фокуса для интерактивных элементов (частично есть).
- **Контраст** — проверка контраста бейджей, ссылок, иконок в тёмной теме (WCAG).
- **Уменьшенная анимация** — учёт `prefers-reduced-motion`.

---

## Уведомления и напоминания

- **Напоминание перед отправкой** — за N минут тост или браузерное уведомление.
- **Уведомления об ошибках отправки** — опция в настройках: тост/браузер при ошибке запланированного сообщения.
- **Еженедельный дайджест** — опционально: раз в неделю сводка (отправлено, ожидает, истёкшие пространства).
- **Онлайн/офлайн** — индикатор в шапке или сайдбаре («Нет соединения»); повтор запросов при восстановлении сети (частично есть OfflineDetector).

---

## Интеграции и экспорт

- **Экспорт каналов** — CSV со списком каналов пространства (название, тип, количество сообщений).
- **Экспорт сообщений** — CSV/Excel по пространству или по фильтру (канал, дата, текст, статус).
- **Экспорт журнала аудита** — CSV/JSON с учётом фильтров.
- **Экспорт списка пользователей** — CSV с учётом текущих фильтров.
- **Экспорт отчёта дашборда** — PDF/CSV за период (метрики по пространствам и сообщениям).
- **Webhook при отправке сообщения** — опционально: уведомление на внешний URL при успешной/неуспешной отправке.

---

## Расширенный функционал (по желанию)

- **Повторяющиеся сообщения** — расписание «каждый понедельник», «каждый день в 9:00» (расширение модели и крона).
- **Черновики сообщений** — сохранение на сервере с возможностью продолжить с другого устройства.
- **Версионирование шаблонов** — история изменений шаблона, откат к предыдущей версии.
- **Теги/метки у сообщений** — для фильтрации и отчётов (например, «анонс», «напоминание»).
- **Разрешения на уровне канала** — опционально: возможность ограничить планирование только определёнными каналами для роли.
- **Лимиты** — опционально: лимит запланированных сообщений на пользователя/пространство за период.
- **Резервное копирование** — экспорт всех данных пользователя (пространства, сообщения, шаблоны) в одном архиве.

---

## DevOps, мониторинг, тесты

- **Логирование ошибок** — отправка ошибок во внешний сервис (Sentry и т.п.).
- **Health-check** — эндпоинт `/api/health` для проверки доступности приложения и БД.
- **Метрики** — опционально: счётчики запросов, время ответа API для мониторинга.
- **E2E-тесты** — критические сценарии (вход, добавление пространства, планирование сообщения) через Playwright/Cypress.
- **Тесты API** — юнит/интеграционные тесты для ключевых маршрутов.
- **Документация API** — описание эндпоинтов (OpenAPI/Swagger) для разработчиков.

---

## Документация и помощь

- **Справка в интерфейсе** — ссылка «Помощь» или «Как пользоваться» в шапке/сайдбаре.
- **Контекстная помощь** — короткие подсказки рядом с полями (тултипы, placeholder).
- **FAQ** — страница с частыми вопросами и ответами.
- **Changelog** — страница или файл с историей изменений версий для пользователей.

---

## Приоритизация (условно)

**Быстро и заметно:** глобальный поиск (Ctrl+K), «Забыли пароль», сохранение фильтров в URL, экспорт списка пользователей и журнала аудита, напоминание перед отправкой.

**Средний объём:** приветственный тур, фильтры и экспорт в истории и календаре, массовые действия в админке, дублирование события в календаре, единый список сообщений на `/dashboard/messages`.

**По желанию:** повторяющиеся сообщения, 2FA, еженедельный дайджест, графики в админке, виртуализация списков, E2E-тесты, локализация RU/EN.

Можно внедрять поэтапно: сначала стабильность и роль-специфика, затем удобство (UI/UX), затем расширенный функционал и аналитика.
