# Идеи: страница пространства (/dashboard/workspaces/[id])

## Для всех пользователей

### Шапка и навигация
- **Хлебные крошки** — «Пространства → Название пространства» вместо только кнопки «Назад к пространствам».
- **Ссылка «Открыть в Rocket.Chat»** — кнопка/ссылка в шапке, ведущая на `workspaceUrl` (в новой вкладке), чтобы быстро перейти в сам чат.
- **Копировать URL пространства** — кнопка рядом с URL в шапке (как на списке пространств).
- **Ссылка «Календарь»** — в шапке или рядом со статистикой: переход в календарь с фильтром по этому пространству (`/dashboard/calendar?workspaceId=...`).

### Статистика
- **Всего сообщений** — добавить карточку «Всего» к уже имеющимся «Ожидает / Отправлено / Ошибки».
- **Клик по карточке статистики** — при клике на «Ожидает» открывать вкладку «Сообщения» и при необходимости фильтровать по статусу; по «Ошибки» — показывать только с ошибками.
- **Обновить данные** — одна кнопка «Обновить» в шапке (или рядом со статистикой), которая перезагружает workspace, channels, messages без перезагрузки страницы (уже есть «Перезагрузить» во вкладке каналов — можно вынести в общую зону).

### Каналы
- **Сортировка каналов** — по имени, по количеству сообщений, публичные сначала и т.п.
- **Группировка** — публичные и приватные отдельными блоками или с подзаголовками.
- **Компактный вид** — переключатель «Сетка / Список» для каналов (как на странице списка пространств).
- **Счётчик запланированных** — на карточке канала показывать не только «N сообщ.» (из RC), но и число запланированных в нашем планировщике по этому каналу (если есть API/данные).

### Сообщения
- **Фильтр по статусу** — во вкладке «Сообщения»: «Все / Ожидает / Отправлено / Ошибка», чтобы не листать всё подряд.
- **Сортировка** — по дате отправки (сначала ближайшие / сначала старые), по каналу.
- **Поиск по тексту** — поле поиска по тексту сообщения во вкладке «Сообщения».
- **Пустое состояние** — кнопка «Создать первое сообщение» в пустом состоянии должна открывать выбор канала или сразу диалог (если канал один). Сейчас кнопка без `onClick`.
- **Быстрый переход в канал** — в карточке/строке сообщения ссылка «Открыть канал в Rocket.Chat» (URL канала в RC, если есть).

### Общее
- **Проверка подключения** — кнопка «Проверить подключение» в шапке (как на карточке пространства), с тостом успех/ошибка.
- **Последнее подключение** — в шапке или под статистикой показывать «Последнее подключение: …» (если есть в API).
- **Адаптив** — на мобильных табы не съезжают, статистика в колонку, список каналов читаемый.

---

## UI/UX

### Внешний вид
- **Цвет пространства** — уже есть в шапке (квадрат с цветом); можно дублировать акцент (полоска или фон) у блока статистики или у табов.
- **Иконки табов** — уже есть; при желании добавить счётчики не только «Каналы (N)», но и «Сообщения (M)» и т.д., чтобы было видно без раскрытия.
- **Состояние загрузки** — скелетоны для шапки, статистики и табов при первой загрузке (частично есть; можно унифицировать).
- **Тени и границы** — единый стиль карточек (border-muted, лёгкая тень при hover), как на странице списка пространств.

### Интерактив
- **Тултипы** — на кнопках «Назад», «Обновить», «Проверить подключение», на звёздочке избранного канала, на статусе «Активно/Неактивно».
- **Подтверждение тяжёлых действий** — уже есть для архивации; для SUP при «Удалить пространство» (если появится) — явный AlertDialog.
- **Сохранение вкладки** — уже сохраняется в `localStorage`; при открытии по прямой ссылке можно поддерживать хэш/query, например `#messages`, чтобы сразу открывать нужную вкладку.

### Производительность
- **Виртуализация списков** — если каналов или сообщений очень много, рассмотреть виртуальный скролл (например, react-virtual) только при необходимости.
- **Ленивая загрузка вкладок** — контент вкладок «Импорт эмодзи» и «Добавление пользователей» подгружать только при первом открытии (если это уменьшит начальный рендер).

---

## По ролям

### SUP (Super Admin)
- **Быстрая архивация** — в шапке (рядом с «Архивировать» в алерте) или в меню «Ещё» одна явная кнопка «В архив» с подтверждением (сейчас архивация через WorkspaceEditDialog).
- **Экспорт списка каналов** — кнопка «Скачать CSV/список каналов» во вкладке «Каналы» (название, тип, количество сообщений).
- **Экспорт списка сообщений** — во вкладке «Сообщения» кнопка «Скачать» (канал, дата, текст, статус) для отчётов.
- **Повторная отправка с ошибкой** — в списке сообщений для статуса «Ошибка» кнопка «Повторить отправку» (если есть API).
- **Лог действий по пространству** — уже есть блок «Последние действия»; при желании ссылка «Вся история» в админку/активность с фильтром по workspace.

### ADM (Administrator)
- **Только просмотр** — без редактирования пространства, без архивации, без вкладок «Импорт эмодзи» и «Добавление пользователей» (уже так).
- **Видимость статистики** — те же карточки «Ожидает / Отправлено / Ошибки» (агрегат по пространству без привязки к «только мои»), чтобы админ видел общую картину по пространству.

### VOL (Volunteer)
- **Акцент «Ваш интенсив»** — в шапке бейдж или подпись «Ваш интенсив» (если `volunteerIntensive` совпадает с этим пространством), как на карточке на списке пространств.
- **Срок доступа** — в шапке или под ней строка «Доступ до ДД.ММ.ГГГГ» и предупреждение за N дней до окончания (как в layout или на странице пространств).
- **Ограничение редактирования** — без редактирования настроек пространства и без архивации (уже так); скрыть или сделать неактивной кнопку «Проверить подключение», если не нужна VOL.
- **Сообщения** — только свои; во вкладке «Сообщения» явно подписать «Показаны только ваши запланированные сообщения», чтобы не было ощущения, что «что-то пропало».

---

## Приоритеты (условно)

1. **Быстро и полезно:** ссылка «Открыть в Rocket.Chat», кнопка «Календарь» в шапке, «Проверить подключение» в шапке, исправление пустого состояния (кнопка «Создать первое сообщение» с открытием диалога), фильтр по статусу во вкладке «Сообщения».
2. **Средний объём:** хлебные крошки, копировать URL, клик по карточке статистики (переход на вкладку/фильтр), сортировка каналов, поиск по тексту сообщений.
3. **По желанию:** экспорт каналов/сообщений для SUP, повтор отправки для сообщений с ошибкой, виртуализация списков, хэш/query для открытия нужной вкладки по ссылке.

Можно внедрять поэтапно: сначала пункты из «Быстро и полезно», затем — по приоритету и доступному времени.
